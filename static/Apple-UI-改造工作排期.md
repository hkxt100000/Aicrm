# 🍎 Apple UI 设计规范改造 - 完整工作排期

**项目**: 天号城企微CRM系统 - Apple UI 全面改造  
**开始日期**: 2026-01-27  
**预计完成**: 2026-02-03 (7天)  
**设计标准**: [Apple Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)

---

## 📊 项目概览

### 改造范围统计
- **HTML 页面**: 3个 (index.html, login.html, customer-detail.html)
- **CSS 文件**: 9个 (style.css + 8个模块CSS)
- **JavaScript 文件**: 7个 (script.js + 6个模块JS)
- **总文件数**: 19个
- **代码总量**: ~650 KB

### 改造类型
1. **页面级改造** (3个)
2. **组件级改造** (50+个组件)
3. **交互级改造** (所有动画和过渡效果)
4. **响应式改造** (3个断点)
5. **暗黑模式改造** (全部页面)

---

## 🎯 第一阶段：基础设施 (Day 1)

### ✅ 已完成
- [x] 登录页 Apple 风格改造 (login.html)
- [x] Logo 重新设计
- [x] 测试页面创建 (text-index.html)

### 🔄 进行中
- [ ] **Task 1.1**: 创建 Apple UI 设计系统基础库
  - 文件: `apple-design-system.css`
  - 内容:
    - CSS 变量系统 (颜色、字体、间距、圆角、阴影)
    - 动画系统 (@keyframes)
    - 工具类 (flexbox, grid, spacing)
  - 预计时间: 2小时
  - 优先级: 🔴 最高

- [ ] **Task 1.2**: 扫描并记录所有组件清单
  - 按钮组件 (15+种)
  - 表单组件 (10+种)
  - 表格组件 (3种)
  - 卡片组件 (5种)
  - 弹窗组件 (8种)
  - 导航组件 (3种)
  - 预计时间: 1小时
  - 优先级: 🔴 最高

---

## 🏗️ 第二阶段：核心页面改造 (Day 2-3)

### Day 2: 主页面改造

#### **Task 2.1**: 改造 index.html 主框架
- **文件**: `index.html`
- **改造内容**:
  - [ ] 侧边栏 Logo 区域 (使用新 Logo)
  - [ ] 侧边栏导航菜单 (层级、间距、圆角)
  - [ ] 侧边栏用户信息区
  - [ ] 顶部导航栏 (毛玻璃效果)
  - [ ] 主内容区布局
  - [ ] 侧边栏展开/收起动画
- **预计时间**: 3小时
- **优先级**: 🔴 最高
- **依赖**: Task 1.1

#### **Task 2.2**: 改造 style.css 全局样式
- **文件**: `style.css` (36KB)
- **改造内容**:
  - [ ] 替换颜色变量为 Apple 色系
  - [ ] 更新字体系统为 SF Pro Display
  - [ ] 更新圆角系统 (6/10/14/20px)
  - [ ] 更新阴影系统 (3级)
  - [ ] 更新间距系统 (4px基准)
  - [ ] 添加暗黑模式变量
  - [ ] 优化动画曲线 (cubic-bezier)
- **预计时间**: 4小时
- **优先级**: 🔴 最高
- **依赖**: Task 1.1

### Day 3: 核心模块页面

#### **Task 2.3**: 改造工作台页面
- **位置**: index.html 中的 dashboard 模块
- **改造内容**:
  - [ ] 欢迎卡片 (渐变背景)
  - [ ] 统计卡片 (4个)
  - [ ] 数据图表 (Chart.js)
  - [ ] 最近活动列表
  - [ ] 快速操作按钮组
- **预计时间**: 3小时
- **优先级**: 🔴 最高

---

## 👥 第三阶段：业务模块改造 (Day 3-4)

### Day 3 下午: 客户管理模块

#### **Task 3.1**: 改造客户列表页面
- **位置**: index.html 中的 customers 模块
- **改造内容**:
  - [ ] 搜索框 (大圆角 + 焦点光晕)
  - [ ] 筛选器按钮组
  - [ ] 客户数据表格
  - [ ] 分页器
  - [ ] 操作按钮 (编辑/删除)
- **预计时间**: 2小时
- **优先级**: 🔴 最高

#### **Task 3.2**: 改造客户画像页面
- **位置**: index.html 中的 customer-profile 模块
- **文件涉及**: `script.js` 中的相关函数
- **改造内容**:
  - [ ] 性别分布卡片
  - [ ] 年龄分布图表
  - [ ] 地域分布图表
  - [ ] 标签云卡片
  - [ ] 员工排行榜
- **预计时间**: 3小时
- **优先级**: 🟡 中

#### **Task 3.3**: 改造客户详情页
- **文件**: `customer-detail.html`, `customer-detail.css`
- **改造内容**:
  - [ ] 顶部信息卡片
  - [ ] Tab 切换组件
  - [ ] 基本信息表单
  - [ ] 标签选择器
  - [ ] 互动记录时间线
- **预计时间**: 2小时
- **优先级**: 🟡 中

### Day 4: 管理模块

#### **Task 3.4**: 改造员工管理页面
- **文件**: `employee-manage.js`, `employee-manage-styles.css`
- **改造内容**:
  - [ ] 员工列表表格
  - [ ] 添加员工弹窗
  - [ ] 编辑员工弹窗
  - [ ] 重置密码弹窗
  - [ ] 启用/禁用状态开关
  - [ ] 搜索和筛选
- **预计时间**: 3小时
- **优先级**: 🔴 最高

#### **Task 3.5**: 改造权限管理页面
- **文件**: `permission-manage.js`, `permission-manage-styles.css`
- **改造内容**:
  - [ ] 部门列表
  - [ ] 权限配置弹窗
  - [ ] 权限树形选择器
  - [ ] 添加/编辑部门弹窗
  - [ ] 删除确认对话框
- **预计时间**: 3小时
- **优先级**: 🔴 最高

---

## 🏷️ 第四阶段：客户运营模块 (Day 5)

#### **Task 4.1**: 改造标签管理
- **位置**: index.html 中的 enterprise-tags 模块
- **改造内容**:
  - [ ] 标签列表
  - [ ] 标签分组
  - [ ] 添加标签弹窗
  - [ ] 编辑标签弹窗
  - [ ] 标签颜色选择器
- **预计时间**: 2小时
- **优先级**: 🟡 中

#### **Task 4.2**: 改造客户群管理
- **文件**: `group-tags-v2.js`
- **改造内容**:
  - [ ] 客户群列表
  - [ ] 群标签管理
  - [ ] 群成员列表
  - [ ] 群发消息界面
  - [ ] 群欢迎语设置
- **预计时间**: 3小时
- **优先级**: 🟡 中

#### **Task 4.3**: 改造企微机器人
- **文件**: `wecom-bot.js` (68KB - 最大的文件)
- **改造内容**:
  - [ ] 机器人列表
  - [ ] 添加机器人弹窗
  - [ ] 测试推送界面
  - [ ] 消息模板编辑器
  - [ ] 推送记录列表
- **预计时间**: 4小时
- **优先级**: 🟡 中

---

## 📊 第五阶段：数据中心模块 (Day 5-6)

#### **Task 5.1**: 改造数据源管理
- **文件**: `data-source.js`, `data-source-styles.css`
- **改造内容**:
  - [ ] 数据源列表卡片
  - [ ] 添加数据源弹窗
  - [ ] API 配置表单
  - [ ] 测试连接按钮
  - [ ] 数据预览表格
- **预计时间**: 3小时
- **优先级**: 🟡 中

#### **Task 5.2**: 改造智能表格
- **位置**: index.html 中的 spreadsheet 模块
- **文件涉及**: `spreadsheet-styles.css`, `data-table-styles.css`
- **改造内容**:
  - [ ] 表格列表
  - [ ] 数据表格视图
  - [ ] 筛选和排序
  - [ ] 导入/导出按钮
  - [ ] 同步状态指示器
- **预计时间**: 3小时
- **优先级**: 🟡 中

---

## 🎨 第六阶段：组件库改造 (Day 6-7)

### Day 6: 通用组件改造

#### **Task 6.1**: 改造所有按钮组件
- **类型清单**:
  - [ ] `.btn-primary` - 主按钮 (蓝色)
  - [ ] `.btn-secondary` - 次按钮 (灰色)
  - [ ] `.btn-success` - 成功按钮 (绿色)
  - [ ] `.btn-warning` - 警告按钮 (橙色)
  - [ ] `.btn-danger` - 危险按钮 (红色)
  - [ ] `.btn-text` - 文本按钮
  - [ ] `.btn-icon` - 图标按钮
  - [ ] `.btn-outline` - 描边按钮
  - [ ] `.btn-sm` / `.btn-lg` - 尺寸变体
  - [ ] 按钮组 `.btn-group`
  - [ ] 加载状态 `.btn-loading`
  - [ ] 禁用状态 `.btn:disabled`
- **改造要点**:
  - 圆角: 10px
  - 内边距: 8px 20px
  - 字重: 600
  - 悬停上浮 -1px
  - 阴影增强
  - 过渡时间: 0.2s
- **预计时间**: 2小时
- **优先级**: 🔴 最高

#### **Task 6.2**: 改造所有表单组件
- **类型清单**:
  - [ ] `<input type="text">` - 文本输入框
  - [ ] `<input type="password">` - 密码输入框
  - [ ] `<input type="email">` - 邮箱输入框
  - [ ] `<input type="number">` - 数字输入框
  - [ ] `<input type="date">` - 日期选择器
  - [ ] `<input type="search">` - 搜索框
  - [ ] `<textarea>` - 多行文本框
  - [ ] `<select>` - 下拉选择框
  - [ ] `<input type="checkbox">` - 复选框
  - [ ] `<input type="radio">` - 单选框
  - [ ] 开关组件 `.switch`
  - [ ] 标签选择器 `.tag-selector`
- **改造要点**:
  - 圆角: 8px
  - 边框: 1px solid rgba(0,0,0,0.1)
  - 焦点: 蓝色光晕 (box-shadow)
  - 占位符颜色: rgba(0,0,0,0.4)
  - 禁用状态: 灰色背景
- **预计时间**: 3小时
- **优先级**: 🔴 最高

#### **Task 6.3**: 改造所有表格组件
- **类型清单**:
  - [ ] `.data-table` - 主数据表格
  - [ ] 表头样式
  - [ ] 行悬停效果
  - [ ] 行选中效果
  - [ ] 空状态提示
  - [ ] 加载状态
  - [ ] 分页器 `.pagination`
  - [ ] 每页显示数选择器
  - [ ] 排序图标
- **改造要点**:
  - 表格边框: 1px solid rgba(0,0,0,0.08)
  - 表头背景: rgba(0,0,0,0.03)
  - 行悬停: rgba(0,0,0,0.02)
  - 斑马纹可选
- **预计时间**: 2小时
- **优先级**: 🔴 最高

### Day 7: 弹窗和交互组件

#### **Task 6.4**: 改造所有弹窗组件
- **类型清单**:
  - [ ] `.modal` - 模态弹窗
  - [ ] `.modal-header` - 弹窗头部
  - [ ] `.modal-body` - 弹窗内容
  - [ ] `.modal-footer` - 弹窗底部
  - [ ] `.dialog` - 对话框
  - [ ] `.confirm-dialog` - 确认对话框
  - [ ] `.alert-dialog` - 警告对话框
  - [ ] `.drawer` - 抽屉组件
  - [ ] 遮罩层 `.modal-backdrop`
  - [ ] 关闭按钮 `.modal-close`
- **改造要点**:
  - 弹窗圆角: 14px
  - 遮罩: rgba(0,0,0,0.4)
  - 弹出动画: scale + fade
  - 背景模糊: backdrop-filter: blur(10px)
  - 阴影: 0 20px 60px rgba(0,0,0,0.3)
- **预计时间**: 3小时
- **优先级**: 🔴 最高

#### **Task 6.5**: 改造通知和提示组件
- **类型清单**:
  - [ ] `.toast` - Toast 提示
  - [ ] `.toast-success` - 成功提示 (绿色)
  - [ ] `.toast-error` - 错误提示 (红色)
  - [ ] `.toast-warning` - 警告提示 (橙色)
  - [ ] `.toast-info` - 信息提示 (蓝色)
  - [ ] `.badge` - 徽章
  - [ ] `.badge-dot` - 圆点徽章
  - [ ] `.badge-count` - 数字徽章
  - [ ] `.alert` - 警告条
  - [ ] `.tooltip` - 工具提示
- **改造要点**:
  - Toast 圆角: 10px
  - Toast 阴影: 0 4px 16px rgba(0,0,0,0.15)
  - 滑入动画: translateY(-20px) → 0
  - 自动消失: 3s
  - 徽章圆角: 10px (圆形)
- **预计时间**: 2小时
- **优先级**: 🟡 中

#### **Task 6.6**: 改造卡片组件
- **类型清单**:
  - [ ] `.card` - 基础卡片
  - [ ] `.card-header` - 卡片头部
  - [ ] `.card-body` - 卡片内容
  - [ ] `.card-footer` - 卡片底部
  - [ ] `.stat-card` - 统计卡片
  - [ ] `.data-card` - 数据卡片
  - [ ] `.info-card` - 信息卡片
  - [ ] 卡片悬停效果
  - [ ] 卡片点击效果
- **改造要点**:
  - 圆角: 14px
  - 边框: 1px solid rgba(0,0,0,0.08)
  - 阴影: 0 2px 8px rgba(0,0,0,0.08)
  - 悬停上浮: -4px
  - 悬停阴影: 0 8px 24px rgba(0,0,0,0.12)
- **预计时间**: 2小时
- **优先级**: 🟡 中

---

## 🌓 第七阶段：暗黑模式适配 (Day 7)

#### **Task 7.1**: 添加暗黑模式变量
- **文件**: `apple-design-system.css`
- **内容**:
  ```css
  @media (prefers-color-scheme: dark) {
    :root {
      --bg-primary: #000000;
      --bg-secondary: #1C1C1E;
      --bg-tertiary: #2C2C2E;
      --text-primary: #FFFFFF;
      --text-secondary: #AEAEB2;
      --text-tertiary: #6E6E73;
      --border-color: rgba(255,255,255,0.15);
      /* ... 更多变量 */
    }
  }
  ```
- **预计时间**: 1小时
- **优先级**: 🔴 最高

#### **Task 7.2**: 测试所有页面暗黑模式
- **测试清单**:
  - [ ] 登录页
  - [ ] 工作台
  - [ ] 客户列表
  - [ ] 客户画像
  - [ ] 员工管理
  - [ ] 权限管理
  - [ ] 标签管理
  - [ ] 客户群管理
  - [ ] 数据源管理
  - [ ] 所有弹窗
  - [ ] 所有表单
  - [ ] 所有按钮
- **预计时间**: 2小时
- **优先级**: 🔴 最高

---

## 📱 第八阶段：响应式优化 (Day 7)

#### **Task 8.1**: 移动端适配 (≤768px)
- **改造内容**:
  - [ ] 侧边栏改为抽屉式
  - [ ] 顶部栏添加菜单按钮
  - [ ] 表格横向滚动
  - [ ] 卡片单列布局
  - [ ] 弹窗全屏显示
  - [ ] 表单控件加大触摸区域
  - [ ] 隐藏部分非关键信息
- **预计时间**: 2小时
- **优先级**: 🟡 中

#### **Task 8.2**: 平板端适配 (≤1024px)
- **改造内容**:
  - [ ] 侧边栏可收起
  - [ ] 卡片 2 列布局
  - [ ] 表格适当简化
  - [ ] 字体大小微调
- **预计时间**: 1小时
- **优先级**: 🟡 中

---

## ✅ 第九阶段：测试和优化 (Day 7)

#### **Task 9.1**: 功能测试
- **测试清单**:
  - [ ] 登录/登出
  - [ ] 客户管理 (增删改查)
  - [ ] 员工管理 (增删改查)
  - [ ] 权限配置
  - [ ] 标签管理
  - [ ] 客户群管理
  - [ ] 数据源连接
  - [ ] 表格排序/筛选
  - [ ] 弹窗打开/关闭
  - [ ] 表单验证
- **预计时间**: 2小时
- **优先级**: 🔴 最高

#### **Task 9.2**: 浏览器兼容性测试
- **测试浏览器**:
  - [ ] Chrome (最新版)
  - [ ] Safari (最新版)
  - [ ] Firefox (最新版)
  - [ ] Edge (最新版)
  - [ ] 移动端 Safari
  - [ ] 移动端 Chrome
- **预计时间**: 1小时
- **优先级**: 🟡 中

#### **Task 9.3**: 性能优化
- **优化项**:
  - [ ] CSS 压缩
  - [ ] 移除未使用的样式
  - [ ] 合并小图标为 SVG sprite
  - [ ] 优化动画性能 (使用 transform/opacity)
  - [ ] 懒加载非关键 CSS
- **预计时间**: 1小时
- **优先级**: 🟢 低

---

## 📋 组件检查清单

### 按钮组件 (15种)
- [ ] 主按钮 (Primary)
- [ ] 次要按钮 (Secondary)
- [ ] 成功按钮 (Success)
- [ ] 警告按钮 (Warning)
- [ ] 危险按钮 (Danger)
- [ ] 文本按钮 (Text)
- [ ] 图标按钮 (Icon)
- [ ] 描边按钮 (Outline)
- [ ] 小按钮 (Small)
- [ ] 大按钮 (Large)
- [ ] 按钮组 (Button Group)
- [ ] 加载按钮 (Loading)
- [ ] 禁用按钮 (Disabled)
- [ ] 浮动操作按钮 (FAB)
- [ ] 返回顶部按钮

### 表单组件 (12种)
- [ ] 文本输入框
- [ ] 密码输入框
- [ ] 搜索框
- [ ] 数字输入框
- [ ] 邮箱输入框
- [ ] 日期选择器
- [ ] 多行文本框
- [ ] 下拉选择框
- [ ] 复选框
- [ ] 单选框
- [ ] 开关
- [ ] 标签选择器

### 表格组件 (5种)
- [ ] 数据表格
- [ ] 表头排序
- [ ] 行选择
- [ ] 分页器
- [ ] 空状态

### 卡片组件 (6种)
- [ ] 基础卡片
- [ ] 统计卡片
- [ ] 数据卡片
- [ ] 信息卡片
- [ ] 用户卡片
- [ ] 欢迎卡片

### 弹窗组件 (8种)
- [ ] 模态弹窗
- [ ] 确认对话框
- [ ] 警告对话框
- [ ] 表单弹窗
- [ ] 详情弹窗
- [ ] 抽屉
- [ ] 气泡确认框
- [ ] 下拉菜单

### 导航组件 (5种)
- [ ] 侧边栏
- [ ] 顶部导航
- [ ] 面包屑
- [ ] Tab 切换
- [ ] 下拉菜单

### 反馈组件 (7种)
- [ ] Toast 提示
- [ ] Alert 警告条
- [ ] Badge 徽章
- [ ] Tooltip 工具提示
- [ ] Loading 加载
- [ ] Progress 进度条
- [ ] Skeleton 骨架屏

### 其他组件 (5种)
- [ ] 标签云
- [ ] 时间线
- [ ] 步骤条
- [ ] 评分
- [ ] 颜色选择器

---

## 📈 进度跟踪

### 总体进度
- ✅ **已完成**: 3/20 (15%)
- 🔄 **进行中**: 1/20 (5%)
- ⏳ **待开始**: 16/20 (80%)

### 按优先级统计
- 🔴 **最高优先级**: 13个任务
- 🟡 **中优先级**: 10个任务
- 🟢 **低优先级**: 1个任务

### 按阶段统计
- ✅ 第一阶段 (基础): 3/3 已完成
- ⏳ 第二阶段 (核心): 0/3
- ⏳ 第三阶段 (业务): 0/6
- ⏳ 第四阶段 (运营): 0/3
- ⏳ 第五阶段 (数据): 0/2
- ⏳ 第六阶段 (组件): 0/6
- ⏳ 第七阶段 (暗黑): 0/2
- ⏳ 第八阶段 (响应): 0/2
- ⏳ 第九阶段 (测试): 0/3

---

## 🎯 每日目标

### Day 1 (2026-01-27) ✅
- [x] 创建工作排期
- [x] 登录页改造
- [x] Logo 设计
- [ ] 创建设计系统基础库

### Day 2 (2026-01-28)
- [ ] 设计系统基础库完成
- [ ] index.html 主框架改造
- [ ] style.css 全局样式改造
- [ ] 工作台页面改造

### Day 3 (2026-01-29)
- [ ] 客户列表改造
- [ ] 客户画像改造
- [ ] 员工管理改造
- [ ] 权限管理改造

### Day 4 (2026-01-30)
- [ ] 标签管理改造
- [ ] 客户群管理改造
- [ ] 企微机器人改造

### Day 5 (2026-01-31)
- [ ] 数据源管理改造
- [ ] 智能表格改造
- [ ] 客户详情改造

### Day 6 (2026-02-01)
- [ ] 所有按钮组件改造
- [ ] 所有表单组件改造
- [ ] 所有表格组件改造
- [ ] 所有卡片组件改造

### Day 7 (2026-02-02)
- [ ] 所有弹窗组件改造
- [ ] 通知组件改造
- [ ] 暗黑模式适配
- [ ] 响应式优化
- [ ] 全面测试

---

## 🚨 注意事项

### 设计原则
1. **一致性**: 所有组件使用统一的设计令牌
2. **渐进式**: 保持功能正常，避免破坏性改动
3. **可回退**: 保留原始文件备份
4. **文档化**: 记录每个改动的原因和效果

### 测试要求
1. **功能测试**: 确保所有功能正常
2. **视觉测试**: 浅色/暗黑模式都要测试
3. **兼容测试**: 主流浏览器都要测试
4. **响应测试**: 手机/平板/桌面都要测试

### 质量标准
1. **设计还原度**: 95%+ 符合 Apple HIG
2. **性能指标**: 首屏加载 < 2s
3. **动画流畅**: 保持 60fps
4. **无障碍**: 支持键盘导航和屏幕阅读器

---

## 📞 沟通机制

### 每日汇报
- 完成的任务
- 遇到的问题
- 明天的计划

### 问题上报
- 设计冲突
- 技术难点
- 需求变更

---

## 🎉 验收标准

### 设计验收
- [ ] 所有页面符合 Apple 设计规范
- [ ] 颜色、字体、圆角、阴影统一
- [ ] 动画流畅自然
- [ ] 暗黑模式完美适配

### 功能验收
- [ ] 所有原有功能正常
- [ ] 无 JavaScript 错误
- [ ] 无 CSS 样式错乱
- [ ] 兼容主流浏览器

### 性能验收
- [ ] 页面加载速度不降低
- [ ] 动画保持 60fps
- [ ] 内存占用合理
- [ ] 文件大小优化

---

**创建时间**: 2026-01-27  
**最后更新**: 2026-01-27  
**负责人**: AI Assistant  
**项目**: 天号城企微CRM系统
